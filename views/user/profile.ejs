<!DOCTYPE html>
<html lang="en">

<head>
    <title>Single Product</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Colo Shop Template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/user/styles/bootstrap4/bootstrap.min.css">
    <link href="/user/plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="/user/plugins/OwlCarousel2-2.2.1/owl.carousel.css">
    <link rel="stylesheet" type="text/css" href="/user/plugins/OwlCarousel2-2.2.1/owl.theme.default.css">
    <link rel="stylesheet" type="text/css" href="/user/plugins/OwlCarousel2-2.2.1/animate.css">
    <link rel="stylesheet" href="/user/plugins/themify-icons/themify-icons.css">
    <link rel="stylesheet" type="text/css" href="/user/plugins/jquery-ui-1.12.1.custom/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="/user/styles/single_styles.css">
    <link rel="stylesheet" type="text/css" href="/user/styles/main_styles.css">

    <link rel="stylesheet" type="text/css" href="/user/styles/single_responsive.css">
    <style>
        .modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: white; border-radius: 5px; }
        .address-card { margin-bottom: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
    </style>

    <style>
        .profile-header {
            text-align: center;
            padding: 10px;
            background-color: #f8f9fa;
        }

        .profile-header img {
            border-radius: 50%;
            width: 100px;
            height: 100px;
            margin-bottom: 10px;
        }

        .sidebar {
            min-height: 100vh;
            background-color: #f8f9fa;
            padding-top: 10px;
        }

        .sidebar .nav-link {
            color: #333;
            font-weight: bold;
        }

        .content-section {
            display: none;
        }

        .active-section {
            display: block;
        }

        .active-link {
            background-color: rgb(230, 230, 230);
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        /* .active-link:hover { */
        /* background-color: rgb(216, 216, 216); */
        /* Slightly darker gray on hover */
        /* transform: scale(1.05); */
        /* Slightly enlarges the element */
        /* } */
    </style>


</head>

<body>

    <div class="super_container">

        <!-- Header -->

        <header class="header trans_300">

            <!-- Top Navigation -->



            <!-- Main Navigation -->

            <div class="main_nav_container">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12 text-right">
                            <div class="logo_container">
                                <a href="#">ZORO<span>'S</span></a>
                            </div>
                            <nav class="navbar">
                                <ul class="navbar_menu">
                                    <li><a href="index.html">home</a></li>
                                    <li><a href="#">shop</a></li>
                                    <li><a href="#">promotion</a></li>
                                    <li><a href="#">pages</a></li>
                                    <li><a href="#">blog</a></li>
                                    <li><a href="contact.html">contact</a></li>
                                </ul>
                                <ul class="navbar_user">
                                    <li><a href="#"><i class="fa fa-search" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa fa-user" aria-hidden="true"></i></a></li>
                                    <li class="checkout">
                                        <a href="#">
                                            <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                                            <span id="checkout_items" class="checkout_items">2</span>
                                        </a>
                                    </li>
                                </ul>
                                <div class="hamburger_container">
                                    <i class="fa fa-bars" aria-hidden="true"></i>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>

        </header>

        <div class="fs_menu_overlay"></div>

        <!-- Hamburger Menu -->

        <div class="hamburger_menu">
            <div class="hamburger_close"><i class="fa fa-times" aria-hidden="true"></i></div>
            <div class="hamburger_menu_content text-right">
                <ul class="menu_top_nav">
                    <li class="menu_item has-children">
                        <a href="#">
                            usd
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="menu_selection">
                            <li><a href="#">cad</a></li>
                            <li><a href="#">aud</a></li>
                            <li><a href="#">eur</a></li>
                            <li><a href="#">gbp</a></li>
                        </ul>
                    </li>
                    <li class="menu_item has-children">
                        <a href="#">
                            English
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="menu_selection">
                            <li><a href="#">French</a></li>
                            <li><a href="#">Italian</a></li>
                            <li><a href="#">German</a></li>
                            <li><a href="#">Spanish</a></li>
                        </ul>
                    </li>
                    <li class="menu_item has-children">
                        <a href="#">
                            My Account
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="menu_selection">
                            <li><a href="#"><i class="fa fa-sign-in" aria-hidden="true"></i>Sign In</a></li>
                            <li><a href="#"><i class="fa fa-user-plus" aria-hidden="true"></i>Register</a></li>
                        </ul>
                    </li>
                    <li class="menu_item"><a href="#">home</a></li>
                    <li class="menu_item"><a href="#">shop</a></li>
                    <li class="menu_item"><a href="#">promotion</a></li>
                    <li class="menu_item"><a href="#">pages</a></li>
                    <li class="menu_item"><a href="#">blog</a></li>
                    <li class="menu_item"><a href="#">contact</a></li>
                </ul>
            </div>
        </div>

        <div class="container single_product_container">
            <div class="row">
                <div class="col">

                    <!-- Breadcrumbs -->

                    <div class="breadcrumbs d-flex flex-row align-items-center">
                        <ul>
                            <li><a href="/user/home">Home</a></li>
                            <li class="active"><a href="#"><i class="fa fa-angle-right" aria-hidden="true"></i>Single
                                    Product</a></li>
                        </ul>
                    </div>

                </div>
            </div>

            <div class="row">
                <!-- Sidebar -->
                <div class="col-md-3 col-lg-2 ">
                    <div class="profile-header">
                        <img src="https://via.placeholder.com/100" alt="Profile Picture">
                        <div class="username">
                            <%= userData.fullName %>
                        </div>
                        <% const formattedDate=new Intl.DateTimeFormat('en-US', { year: 'numeric' , month: 'long'
                            }).format(userData.createdAt); %>
                            <small class="text-muted">
                                <%= formattedDate %>
                            </small>
                    </div>

                    <ul class="nav flex-column mt-4">
                        <li class="nav-item">
                            <h3>Settings</h3>
                            <ul>
                                <li>
                                    <a class="nav-link active-link " onclick="showSection('editProfile')">
                                        Edit Profile
                                    </a>
                                </li>
                                <li>
                                    <a class="nav-link" onclick="showSection('address')">
                                        Address
                                    </a>
                                </li>

                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="" onclick="showSection('overview')">Overview</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="" onclick="showSection('orders')">Orders</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="" onclick="showSection('wishlist')">Wishlist</a>
                        </li>
                    </ul>
                </div>

                <!-- Main Content -->
                <div class="col-md-9 col-lg-10">
                    <div id="editProfile" class="content-section active-section mt-4">
                        <h5>Account Settings</h5>
                        <div class="container mt-5">
                            <h2 class="mb-4">Profile</h2>

                            <form id="profileForm" method="POST">
                                <!-- Full Name -->
                                <div class="form-group">
                                    <label for="fullName">Full Name</label>
                                    <input type="text" class="form-control" id="fullName" name="fullName"
                                        value="<%= userData.fullName %>" required disabled>
                                </div>
                                <div class="form-group">
                                    <label for="userName">User Name</label>
                                    <input type="text" class="form-control" id="userName" name="userName"
                                        value="<%= userData.userName %>" required disabled>
                                </div>

                                <!-- Email -->
                                <div class="form-group">
                                    <label for="email">Email</label>
                                    <input type="email" class="form-control" id="email" name="email"
                                        value="<%= userData.email %>" required disabled>
                                </div>

                                <!-- Phone Number -->
                                <div class="form-group">
                                    <label for="phoneNumber">Phone Number</label>
                                    <input type="tel" class="form-control" id="phoneNumber" name="phoneNumber"
                                        value="<%= userData.phone %>" required disabled>
                                </div>

                                <!-- Save and Cancel Buttons -->
                                <button type="submit" id="saveButton" class="btn btn-primary"
                                    style="display: none;">Save Changes</button>
                                <button type="button" id="cancelButton" class="btn btn-secondary" style="display: none;"
                                    onclick="toggleEdit(false)">Cancel</button>
                            </form>

                            <!-- Edit Button -->
                            <button type="button" id="editButton" class="btn btn-warning mt-3"
                                onclick="toggleEdit(true)">Edit</button>

                        </div>
                    </div>

                    <!-- address  -->

                    <div id="address" class="content-section  mt-4">

                       
                        <button type="button" id="addAddressBtn" class="nav-link btn btn-primary" onclick="addAddressFrom('open')">Add Address</button>
                        <div>
                            <!-- Add Address Button -->
                            <section id="addressSection" style="display: none;" class="">
                                <div class="container">
                                    <h2>Add Address</h2>
                                    <form id="addressForm" action="/user/addAddress" method="POST">
                                        <!-- Recipient Name -->
                                        <div class="form-group">
                                            <label for="recipientName">Recipient Name</label>
                                            <input type="text" class="form-control" id="recipientName" name="recipientName" required>
                                        </div>
                                        <!-- Phone Number -->
                                        <div class="form-group">
                                            <label for="phoneNumber">Phone Number</label>
                                            <input type="tel" class="form-control" id="phone" name="phoneNumber" required>
                                        </div>
                                        <!-- Address Line 1 -->
                                        <div class="form-group">
                                            <label for="addressLine1">Address Line</label>
                                            <input type="text" class="form-control" id="addressLine" name="addressLine" required>
                                        </div>
                                        <!-- Landmark (Optional) -->
                                        <div class="form-group">
                                            <label for="landmark">Landmark</label>
                                            <input type="text" class="form-control" id="landmark" name="landmark">
                                        </div>
                                        <!-- City -->
                                        <div class="form-group">
                                            <label for="city">City</label>
                                            <input type="text" class="form-control" id="city" name="city" required>
                                        </div>
                                        <!-- State -->
                                        <div class="form-group">
                                            <label for="state">State</label>
                                            <input type="text" class="form-control" id="state" name="state" required>
                                        </div>
                                        <!-- Pin Code -->
                                        <div class="form-group">
                                            <label for="pinCode">Pin Code</label>
                                            <input type="text" class="form-control" id="pinCode" name="pinCode" required>
                                        </div>
                                        <!-- Country -->
                                        <div class="form-group">
                                            <label for="country">Country</label>
                                            <input type="text" class="form-control" id="country" name="country" value="India" readonly>
                                        </div>
                                        <!-- Set as Default Address -->
                                        <div class="form-group">
                                            <label>
                                                <input type="checkbox" id="isDefault" name="isDefault">
                                                Set as Default Address
                                            </label>
                                        </div>
                                        <!-- Submit Button -->
                                        <button type="submit" class="btn btn-success">Save Address</button>
                                        <button id="cancelBtn" onclick="addAddressFrom('close')" class="btn btn-success">Cancel</button>
                                    </form>
                                </div>
                            </section>
                        
                            <!-- Display Address List -->
                            <div id="addressList">
                                <% userData.addresses.forEach((address, index) => { %>
                                    <div class="address-card" id="addressCard<%= index %>">
                                        <h3>Address <%= index + 1 %></h3>
                                        <p><strong>Recipient Name:</strong> <%= address.recipientName %></p>
                                        <p><strong>Phone Number:</strong> <%= address.phoneNumber %></p>
                                        <p><strong>Address Line 1:</strong> <%= address.addressLine1 %></p>
                                        <p><strong>Landmark:</strong> <%= address.landmark %></p>
                                        <p><strong>City:</strong> <%= address.city %></p>
                                        <p><strong>State:</strong> <%= address.state %></p>
                                        <p><strong>Pin Code:</strong> <%= address.pinCode %></p>
                                        <p><strong>Country:</strong> India</p>
                                        <p><strong>Default Address:</strong> <%= address.isDefault ? 'Yes' : 'No' %></p>
                                        <button type="button" class="btn btn-primary" onclick="showEditForm(<%= index %>, <%= JSON.stringify(address) %>)">Edit Address</button>
                                        <button type="button" class="btn btn-danger" onclick="deleteAddress(<%= index %>)">Delete Address</button>
                                    </div>
                                    <hr>
                                <% }); %>
                            </div>
                        </div>
                        



                    </div>
                    <div id="overview" class="content-section  mt-4">
                        <h5>Recent Orders</h5>
                        <p>See your recent orders and track their statuses.</p>
                        <!-- Add recent order items here -->
                    </div>

                    <div id="orders" class="content-section mt-4">
                        <h5>Your Orders</h5>
                        <p>Check all your past and current orders.</p>
                        <!-- Add order items here -->
                    </div>

                    <div id="wishlist" class="content-section mt-4">
                        <h5>Wishlist</h5>
                        <p>Items you’ve added to your wishlist.</p>
                        <!-- Add wishlist items here -->
                    </div>


                </div>
            </div>


        </div>

        <!-- Tabs -->




        <!-- Benefit -->



        <!-- Newsletter -->



        <!-- Footer -->

        <footer class="footer">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6">
                        <div
                            class="footer_nav_container d-flex flex-sm-row flex-column align-items-center justify-content-lg-start justify-content-center text-center">
                            <ul class="footer_nav">
                                <li><a href="#">Blog</a></li>
                                <li><a href="#">FAQs</a></li>
                                <li><a href="contact.html">Contact us</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div
                            class="footer_social d-flex flex-row align-items-center justify-content-lg-end justify-content-center">
                            <ul>
                                <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-skype" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="footer_nav_container">
                            <div class="cr">©2018 All Rights Reserverd. This template is made with <i
                                    class="fa fa-heart-o" aria-hidden="true"></i> by <a href="#">Colorlib</a> &amp;
                                distributed by <a href="https://themewagon.com">ThemeWagon</a></div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        function showSection(section) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(el => el.classList.remove('active-section'));
            // Show the selected section
            document.getElementById(section).classList.add('active-section');
            // Update active link
            document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active-link'));
            event.currentTarget.classList.add('active-link')
        }



        function toggleEdit(editMode) {
            const form = document.getElementById('profileForm');
            const saveButton = document.getElementById('saveButton');
            const cancelButton = document.getElementById('cancelButton');
            const editButton = document.getElementById('editButton');

            // Enable or disable form fields based on editMode
            Array.from(form.elements).forEach(element => {
                if (element.tagName !== "BUTTON") element.disabled = !editMode;
            });

            // Toggle visibility of buttons
            saveButton.style.display = editMode ? 'inline-block' : 'none';
            cancelButton.style.display = editMode ? 'inline-block' : 'none';
            editButton.style.display = editMode ? 'none' : 'inline-block';
        }


        function addAddressFrom(btn){
            let form = document.getElementById('addressSection');

            if (btn === 'open'){
                form.style.display = "block"
            }else{
                form.style.display = "none"
            }
        }


        
    </script>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        document.getElementById('profileForm').addEventListener('submit', function (e) {
            e.preventDefault(); // Prevents default form submission

            const formData = {
                fullName: document.getElementById('fullName').value,
                userName: document.getElementById('userName').value,
                email: document.getElementById('email').value,
                phoneNumber: document.getElementById('phoneNumber').value
            };

            axios.post('/user/profile', formData)
                .then(response => {
                    // Handle success response, e.g., show a success message or redirect
                    alert('Profile updated successfully!');
                    toggleEdit(false); // Optionally reset form to non-editable
                })
                .catch(error => {
                    // Handle error response
                    console.error('Error updating profile:', error);
                    alert('Failed to update profile.');
                });
        });

        


        
    </script>
    


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>



    <script src="/user/js/jquery-3.2.1.min.js"></script>
    <script src="/user/styles/bootstrap4/popper.js"></script>
    <script src="/user/styles/bootstrap4/bootstrap.min.js"></script>
    <script src="/user/plugins/Isotope/isotope.pkgd.min.js"></script>
    <script src="/user/plugins/OwlCarousel2-2.2.1/owl.carousel.js"></script>
    <script src="/user/plugins/easing/easing.js"></script>
    <script src="/user/plugins/jquery-ui-1.12.1.custom/jquery-ui.js"></script>
    <script src="/user/js/single_custom.js"></script>
    <script src='/user/plugins/zoom/jquery.zoom.min.js' type="text/javascript"></script><!-- product zoom -->


</body>

</html>